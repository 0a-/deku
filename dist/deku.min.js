!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.deku=t()}}(function(){var t;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof _require&&_require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[s]={exports:{}};t[s][0].call(p.exports,function(e){var n=t[s][1][e];return i(n?n:e)},p,p.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof _require&&_require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){n.component=t("./lib/component"),n.dom=t("virtualize").node},{"./lib/component":2,virtualize:29}],2:[function(t,e){function n(t){function e(){return this instanceof e?void r(this):u(e,arguments[0],arguments[1])}if(t=t||{},"function"==typeof t&&(t={render:t}),e.props={},i(e,s,o.prototype),i(e.prototype,a,t,o.prototype),t.displayName&&(e.displayName=t.displayName,delete t.displayName),t.props){for(var n in t.props)e.prop(n,t.props[n]);delete t.props}return e}function r(t){for(var e in t){var n=t[e];"function"==typeof n&&(t[e]=n.bind(t))}return t}var i=t("extend"),o=t("component-emitter"),s=t("./statics"),a=t("./protos"),u=t("virtualize").node;e.exports=n},{"./protos":3,"./statics":4,"component-emitter":18,extend:19,virtualize:29}],3:[function(t,e,n){n.setState=function(t,e){this.emit("change",t,e)},n.invalidate=function(){this.emit("invalidate")},n.render=function(){},n.initialState=function(){return{}},n.shouldUpdate=function(){return!0}},{}],4:[function(t,e,n){var r=t("../renderer/string"),i=t("../entity"),o=t("../scene");if("undefined"!=typeof window)var s=t("../renderer/html");n.use=function(t){if("function"==typeof t)t(this);else for(var e in t)this.prototype[e]=t[e];return this},n.prop=function(t,e){return this.props[t]=e,this},n.channel=function(t){return this.channels.push(t),this},n.render=function(t,e){if(!s)throw new Error("You can only render a DOM tree in the browser. Use renderString instead.");var n=new s(t),r=new i(this,e),a=new o(n,r);return a},n.renderString=function(t){var e=new i(this,t);return r(e)}},{"../entity":5,"../renderer/html":7,"../renderer/string":9,"../scene":10}],5:[function(t,e){function n(t,e){this.id=a(),this.type=t,this.props=e||{},this.component=this.instance(t),this.state=this.component.initialState(this.props),this.lifecycle=null,this._pendingProps=s({},this.props),this._pendingState=s({},this.state)}function r(t){var e=u[t];if(e)throw new Error(e)}var i=t("component-emitter"),o=t("virtualize"),s=t("extend"),a=t("get-uid"),u={beforeUpdate:"You can't call setState in the beforeUpdate hook. Use the propsChanged hook instead.",render:"You can't call setState in the render hook. This method must remain pure."};e.exports=n,i(n.prototype),n.prototype.instance=function(t){var e=new t;return e.on("change",this.setState.bind(this)),e.on("invalidate",this.invalidate.bind(this)),e},n.prototype.render=function(){this.lifecycle="render";var t=this.component.render(this.props,this.state);return this.lifecycle=null,t||(t=o.node("noscript")),o.tree(t)},n.prototype.setProps=function(t,e){e&&this.once("afterUpdate",e),this._pendingProps=s(this._pendingProps,t),this.propsChanged(this._pendingProps),this.invalidate()},n.prototype.replaceProps=function(t,e){e&&this.once("afterUpdate",e),this._pendingProps=t,this.propsChanged(this._pendingProps),this.invalidate()},n.prototype.setState=function(t,e){r(this.lifecycle),e&&this.once("afterUpdate",e),this._pendingState=s(this._pendingState,t),this.invalidate()},n.prototype.invalidate=function(){this.emit("change")},n.prototype.commit=function(){this.state=this._pendingState,this.props=this._pendingProps,this._pendingState=s({},this.state),this._pendingProps=s({},this.props)},n.prototype.release=function(){this.off()},n.prototype.shouldUpdate=function(t,e){return this.component.shouldUpdate(this.props,this.state,t,e)},n.prototype.beforeUpdate=function(t,e){this.trigger("beforeUpdate",[this.props,this.state,t,e])},n.prototype.afterUpdate=function(t,e){this.trigger("afterUpdate",[this.props,this.state,e,t])},n.prototype.beforeUnmount=function(t){this.trigger("beforeUnmount",[t,this.props,this.state])},n.prototype.afterUnmount=function(){this.trigger("afterUnmount",[this.props,this.state])},n.prototype.beforeMount=function(){this.trigger("beforeMount",[this.props,this.state])},n.prototype.afterMount=function(t){this.trigger("afterMount",[t,this.props,this.state])},n.prototype.propsChanged=function(t){this.trigger("propsChanged",[t,this.props,this.state])},n.prototype.trigger=function(t,e){this.lifecycle=t,"function"==typeof this.component[t]&&this.component[t].apply(this.component,e),this.type.emit.apply(this.type,[t,this.component].concat(e)),this.lifecycle=null,this.emit(t)}},{"component-emitter":18,extend:19,"get-uid":20,virtualize:29}],6:[function(t,e){function n(t){var e={entity:t.entity,currentTree:t.currentTree,nextTree:t.nextTree,renderer:t.renderer,rootEl:t.el,el:t.el,path:"0",id:t.entity.id,isRoot:!0};return r(t.currentTree.root,t.nextTree.root,e),e.rootEl}function r(t,e,n){return t.type!==e.type?c(t,e,n):"text"===e.type?i(t,e,n):"component"===e.type?a(t,e,n):"element"===e.type?u(t,e,n):void 0}function i(t,e,n){e.data!==t.data&&(n.el.data=e.data)}function o(t,e,n){for(var i=h(t.children,e.children),o=n.el,s=-1,a=0;a<i.length;a++){s+=1;var u=i[a],c=u[0],f=u[1],l=n.path+"."+s;if(null!=c)null!=f?r(c,f,{el:o.childNodes[s],entity:n.entity,nextTree:n.nextTree,renderer:n.renderer,isRoot:!1,path:l}):(p(c,n),"component"!=c.type&&o.removeChild(o.childNodes[s]),s-=1);else{var d=n.renderer.createElement(f,l,n.entity.id);o.appendChild(d)}}}function s(t,e,n){var r=e.attributes,i=t.attributes;for(var o in r){var s=r[o];i[o]&&i[o]===s||("value"===o?n.el.value=s:"innerHTML"===o?n.el.innerHTML=s:n.el.setAttribute(o,s))}for(var a in i)r[a]||n.el.removeAttribute(a)}function a(t,e,n){if(e.component!==t.component)return c(t,e,n);var r=n.entity.id,i=n.renderer.children[r][n.path],o=n.renderer.entities[i];o.replaceProps(e.props)}function u(t,e,n){return e.tagName!==t.tagName?c(t,e,n):(s(t,e,n),void o(t,e,n))}function c(t,e,n){var r=n.el,i=r.parentNode;p(t,n),r.parentNode&&r.parentNode.removeChild(r);var o=n.renderer.createElement(e,n.path,n.entity.id);i.insertBefore(o,i.childNodes[t.index]),n.isRoot&&(n.rootEl=o)}function p(t,e){if("component"===t.type){var n=e.entity.id,r=e.currentTree.getPath(t),i=e.renderer.children[n][r],o=e.renderer.entities[i];return e.renderer.unmountEntity(o),void delete e.renderer.children[n][r]}t.children&&t.children.forEach(function(t){p(t,e)},this)}var h=t("array-zip");e.exports=n},{"array-zip":11}],7:[function(t,e){function n(t){this.container=t,this.events=new r(t),this.entities={},this.elements={},this.renders={},this.children={},this.rendered=null,this.dirty=[]}var r=t("./interactions"),i=t("../../entity"),o=t("component-each"),s=t("./diff");e.exports=n,n.prototype.render=function(t){return this.rendered===t?void(this.dirty.length>0&&this.update(t)):(this.clear(),this.mountEntity(t,this.container),void(this.rendered=t))},n.prototype.update=function(t){function e(){n.updateChildren(t)}var n=this,r=t._pendingProps,i=t._pendingState,o=t.state,a=t.props,u=this.renders[t.id],c=this.elements[t.id];if(!this.hasChanged(t))return e();if(!t.shouldUpdate(r,i))return e();t.beforeUpdate(r,i),t.commit();var p=t.render(),h=s({entity:t,currentTree:u,nextTree:p,el:c,renderer:this});this.elements[t.id]=h,this.renders[t.id]=p,this.updateEvents(t),this.resolveEntity(t),e(),t.afterUpdate(o,a)},n.prototype.hasChanged=function(t){return this.dirty.indexOf(t.id)>-1},n.prototype.resolveEntity=function(t){this.dirty=this.dirty.filter(function(e){return e!==t.id})},n.prototype.updateChildren=function(t){var e=this.entities,n=this.children[t.id];for(var r in n){var i=n[r];this.update(e[i])}},n.prototype.clear=n.prototype.remove=function(){this.rendered&&(this.unmountEntity(this.rendered),this.rendered=null,this.events.remove())},n.prototype.mountEntity=function(t,e){var n=this;t.beforeMount(),this.children[t.id]={};var r=t.render(),i=this.createElement(r.root,"0",t.id);return this.elements[t.id]=i,this.renders[t.id]=r,this.entities[t.id]=t,t.on("change",function(){n.dirty.push(t.id)}),e.appendChild(i),this.updateEvents(t),t.afterMount(i),i},n.prototype.unmountEntity=function(t){var e=this.elements[t.id];e&&(t.beforeUnmount(e),this.resolveEntity(t),e.parentNode&&e.parentNode.removeChild(e),this.unmountChildren(t),this.removeEvents(t),t.afterUnmount(),t.release(),delete this.elements[t.id],delete this.renders[t.id],delete this.entities[t.id],delete this.children[t.id])},n.prototype.unmountChildren=function(t){var e=this,n=this.entities,r=this.children[t.id];o(r,function(t,r){e.unmountEntity(n[r])})},n.prototype.updateEvents=function(t){var e=this;this.events.unbind(t.id);var n=this.renders[t.id];o(n.nodes,function(n,r){"element"===r.type&&o(r.events,function(r,i){e.events.bind(t.id,n,r,function(e){i.call(t.component,e,t.props,t.state)})})})},n.prototype.removeEvents=function(t){this.events.unbind(t.id)},n.prototype.createElement=function(t,e,n){if("text"===t.type)return document.createTextNode(t.data);if("element"===t.type){var r=document.createElement(t.tagName),o=t.children;for(var s in t.attributes)"innerHTML"===s?r.innerHTML=t.attributes.innerHTML:r.setAttribute(s,t.attributes[s]);r.__path__=e,r.__entity__=n;for(var a=0,u=o.length;u>a;a++){var c=this.createElement(o[a],e+"."+a,n);r.appendChild(c)}return r}if("component"===t.type){var p=document.createDocumentFragment(),h=new i(t.component,t.props),r=this.mountEntity(h,p);return this.children[n][e]=h.id,r}}},{"../../entity":5,"./diff":6,"./interactions":8,"component-each":14}],8:[function(t,e){function n(t){this.el=t,this.handlers={},this.handle=this.handle.bind(this),this.resume()}var r=t("per-frame"),i=t("object-path"),o=["blur","change","click","contextmenu","copy","cut","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","dragstart","drop","focus","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","paste","scroll","submit","touchcancel","touchend","touchmove","touchstart","wheel"];e.exports=n,n.prototype.bind=function(t,e,n,o){i.set(this.handlers,[t,e,n],r(o))},n.prototype.unbind=function(t){delete this.handlers[t]},n.prototype.resume=function(){o.forEach(function(t){this.el.addEventListener(t,this.handle,!0)},this)},n.prototype.pause=function(){o.forEach(function(t){this.el.removeEventListener(t,this.handle,!0)},this)},n.prototype.remove=function(){this.handlers={},this.pause()},n.prototype.handle=function(t){for(var e=t.target,n=this.handlers,r=e.__entity__,o=t.type;e&&e.__entity__===r;){var s=i.get(n,[r,e.__path__,o]);if(s){t.delegateTarget=e,s(t);break}e=e.parentNode}}},{"object-path":21,"per-frame":22}],9:[function(t,e){function n(t){var e=t.render();return r(e.root,e)}function r(t,e){e.getPath(t);if("text"===t.type)return t.data;if("element"===t.type){for(var o=t.children,a=t.attributes,u=t.tagName,c="<"+u+i(a)+">",p=0,h=o.length;h>p;p++)c+=r(o[p],e);return c+="</"+u+">"}if("component"===t.type)return n(new s(t.component,t.props));throw new Error("Invalid type")}function i(t){var e="";for(var n in t)e+=o(n,t[n]);return e}function o(t,e){return" "+t+'="'+e+'"'}var s=(t("virtualize"),t("../../entity"));e.exports=n},{"../../entity":5,virtualize:29}],10:[function(t,e){function n(t,e){this.loop=i(this.update.bind(this)),this.renderer=t,this.entity=e,this.resume()}var r=t("component-emitter"),i=t("raf-loop");e.exports=n,r(n.prototype),n.prototype.use=function(t){return t(this),this},n.prototype.update=function(){try{this.renderer.render(this.entity)}catch(t){throw this.pause(),t}return this},n.prototype.setProps=function(t,e){this.entity.setProps(t,e)},n.prototype.replaceProps=function(t,e){this.entity.replaceProps(t,e)},n.prototype.remove=function(){this.pause(),this.renderer.remove(),this.off()},n.prototype.resume=function(){return this.loop.start(),this.emit("resume"),this},n.prototype.pause=function(){return this.loop.stop(),this.emit("pause"),this}},{"component-emitter":18,"raf-loop":24}],11:[function(t,e){"use strict";e.exports=function(){var t=Array.prototype.slice.call(arguments,0);return t.reduce(function(t,e){return t.length>e.length?t:e},[]).map(function(e,n){return t.map(function(t){return t[n]})})}},{}],12:[function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,a=new Array(i-1),u=1;i>u;u++)a[u-1]=arguments[u];n.apply(this,a)}else if(o(n)){for(i=arguments.length,a=new Array(i-1),u=1;i>u;u++)a[u-1]=arguments[u];for(c=n.slice(),i=c.length,u=0;i>u;u++)c[u].apply(this,a)}return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned){var i;i=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,s,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(a=s;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?r(t._events[e])?1:t._events[e].length:0}},{}],13:[function(t,e){function n(){if(!s){s=!0;for(var t,e=o.length;e;){t=o,o=[];for(var n=-1;++n<e;)t[n]();e=o.length}s=!1}}function r(){}var i=e.exports={},o=[],s=!1;i.nextTick=function(t){o.push(t),s||setTimeout(n,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],14:[function(t,e){function n(t,e,n){for(var r=0;r<t.length;++r)e.call(n,t.charAt(r),r)}function r(t,e,n){for(var r in t)u.call(t,r)&&e.call(n,r,t[r])}function i(t,e,n){for(var r=0;r<t.length;++r)e.call(n,t[r],r)}try{var o=t("type")}catch(s){var o=t("component-type")}var a=t("to-function"),u=Object.prototype.hasOwnProperty;e.exports=function(t,e,s){switch(e=a(e),s=s||this,o(t)){case"array":return i(t,e,s);case"object":return"number"==typeof t.length?i(t,e,s):r(t,e,s);case"string":return n(t,e,s)}}},{"component-type":15,"to-function":16,type:15}],15:[function(t,e){var n=Object.prototype.toString;e.exports=function(t){switch(n.call(t)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return null===t?"null":void 0===t?"undefined":t&&1===t.nodeType?"element":t===Object(t)?"object":typeof t}},{}],16:[function(t,e){function n(t){switch({}.toString.call(t)){case"[object Object]":return s(t);case"[object Function]":return t;case"[object String]":return o(t);case"[object RegExp]":return i(t);default:return r(t)}}function r(t){return function(e){return t===e}}function i(t){return function(e){return t.test(e)}}function o(t){return/^ *\W+/.test(t)?new Function("_","return _ "+t):new Function("_","return "+a(t))}function s(t){var e={};for(var i in t)e[i]="string"==typeof t[i]?r(t[i]):n(t[i]);return function(t){if("object"!=typeof t)return!1;for(var n in e){if(!(n in t))return!1;if(!e[n](t[n]))return!1}return!0}}function a(t){var e=c(t);if(!e.length)return"_."+t;var n,r,i;for(r=0;r<e.length;r++)i=e[r],n="_."+i,n="('function' == typeof "+n+" ? "+n+"() : "+n+")",t=u(i,t,n);return t}function u(t,e,n){return e.replace(new RegExp("(\\.)?"+t,"g"),function(t,e){return e?t:n})}var c;try{c=void 0}catch(p){c=t("component-props")}e.exports=n},{"component-props":17}],17:[function(t,e){function n(t){return t.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(s,"").match(/[$a-zA-Z_]\w*/g)||[]}function r(t,e,n){var r=/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g;return t.replace(r,function(t){return"("==t[t.length-1]?n(t):~e.indexOf(t)?n(t):t})}function i(t){for(var e=[],n=0;n<t.length;n++)~e.indexOf(t[n])||e.push(t[n]);return e}function o(t){return function(e){return t+e}}var s=/\b(this|Array|Date|Object|Math|JSON)\b/g;e.exports=function(t,e){var s=i(n(t));return e&&"string"==typeof e&&(e=o(e)),e?r(t,s,e):s}},{}],18:[function(t,e){function n(t){return t?r(t):void 0}function r(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,i=n.length;i>r;++r)n[r].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],19:[function(t,e){var n,r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=function(t){"use strict";if(!t||"[object Object]"!==i.call(t))return!1;var e=r.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!o)return!1;var s;for(s in t);return s===n||r.call(t,s)};e.exports=function s(){"use strict";var t,e,r,i,a,u,c=arguments[0],p=1,h=arguments.length,f=!1;for("boolean"==typeof c?(f=c,c=arguments[1]||{},p=2):("object"!=typeof c&&"function"!=typeof c||null==c)&&(c={});h>p;++p)if(t=arguments[p],null!=t)for(e in t)r=c[e],i=t[e],c!==i&&(f&&i&&(o(i)||(a=Array.isArray(i)))?(a?(a=!1,u=r&&Array.isArray(r)?r:[]):u=r&&o(r)?r:{},c[e]=s(f,u,i)):i!==n&&(c[e]=i));return c}},{}],20:[function(t,e){var n=Date.now()%1e9;e.exports=function(){return(1e9*Math.random()>>>0)+n++}},{}],21:[function(e,n){!function(e,r){"use strict";"object"==typeof n&&"object"==typeof n.exports?n.exports=r():"function"==typeof t&&t.amd?t([],r):e.objectPath=r()}(this,function(){"use strict";function t(t){if(!t)return!0;if(o(t)&&0===t.length)return!0;for(var e in t)if(h.call(t,e))return!1;return!0}function e(t){return p.call(t)}function n(t){return"number"==typeof t||"[object Number]"===e(t)}function r(t){return"string"==typeof t||"[object String]"===e(t)}function i(t){return"object"==typeof t&&"[object Object]"===e(t)}function o(t){return"object"==typeof t&&"number"==typeof t.length&&"[object Array]"===e(t)}function s(t){return"boolean"==typeof t||"[object Boolean]"===e(t)}function a(t){var e=parseInt(t);return e.toString()===t?e:t}function u(e,i,o,s){if(n(i)&&(i=[i]),t(i))return e;if(r(i))return u(e,i.split(".").map(a),o,s);var c=i[0];if(1===i.length){var p=e[c];return void 0!==p&&s||(e[c]=o),p}return void 0===e[c]&&(e[c]=n(i[1])?[]:{}),u(e[c],i.slice(1),o,s)}function c(e,i){if(n(i)&&(i=[i]),t(e))return void 0;if(t(i))return e;if(r(i))return c(e,i.split("."));var s=a(i[0]),u=e[s];if(1===i.length)void 0!==u&&(o(e)?e.splice(s,1):delete e[s]);else if(void 0!==e[s])return c(e[s],i.slice(1));return e}var p=Object.prototype.toString,h=Object.prototype.hasOwnProperty,f={};return f.has=function(e,s){if(t(e))return!1;if(n(s)?s=[s]:r(s)&&(s=s.split(".")),t(s)||0===s.length)return!1;for(var a=0;a<s.length;a++){var u=s[a];if(!i(e)&&!o(e)||!h.call(e,u))return!1;e=e[u]}return!0},f.ensureExists=function(t,e,n){return u(t,e,n,!0)},f.set=function(t,e,n,r){return u(t,e,n,r)},f.insert=function(t,e,n,r){var i=f.get(t,e);r=~~r,o(i)||(i=[],f.set(t,e,i)),i.splice(r,0,n)},f.empty=function(e,a){if(t(a))return e;if(t(e))return void 0;var u,c;if(!(u=f.get(e,a)))return e;if(r(u))return f.set(e,a,"");if(s(u))return f.set(e,a,!1);if(n(u))return f.set(e,a,0);if(o(u))u.length=0;else{if(!i(u))return f.set(e,a,null);for(c in u)h.call(u,c)&&delete u[c]}},f.push=function(t,e){var n=f.get(t,e);o(n)||(n=[],f.set(t,e,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},f.coalesce=function(t,e,n){for(var r,i=0,o=e.length;o>i;i++)if(void 0!==(r=f.get(t,e[i])))return r;return n},f.get=function(e,i,o){if(n(i)&&(i=[i]),t(i))return e;if(t(e))return o;if(r(i))return f.get(e,i.split("."),o);var s=a(i[0]);return 1===i.length?void 0===e[s]?o:e[s]:f.get(e[s],i.slice(1),o)},f.del=function(t,e){return c(t,e)},f})},{}],22:[function(t,e){function n(t){var e,n=!1;return function(){return n?e:(n=!0,r(function(){n=!1}),e=t.apply(this,arguments))}}var r=t("raf");e.exports=n},{raf:23}],23:[function(t,e,n){function r(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-i)),r=setTimeout(t,n);return i=e,r}n=e.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||r;var i=(new Date).getTime(),o=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout;n.cancel=function(t){o.call(window,t)}},{}],24:[function(t,e){function n(t){return this instanceof n?(this.running=!1,this.last=s(),this._frame=0,this._tick=this.tick.bind(this),void(t&&this.on("tick",t))):new n(t)}var r=t("inherits"),i=t("events").EventEmitter,o=t("raf"),s=t("right-now");e.exports=n,r(n,i),n.prototype.start=function(){return this.running?void 0:(this.running=!0,this.last=s(),this._frame=o(this._tick),this)},n.prototype.stop=function(){return this.running=!1,0!==this._frame&&o.cancel(this._frame),this._frame=0,this},n.prototype.tick=function(){this._frame=o(this._tick);var t=s(),e=t-this.last;this.emit("tick",e),this.last=t}},{events:12,inherits:25,raf:26,"right-now":28}],25:[function(t,e){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],26:[function(t,e){for(var n=t("performance-now"),r="undefined"==typeof window?{}:window,i=["moz","webkit"],o="AnimationFrame",s=r["request"+o],a=r["cancel"+o]||r["cancelRequest"+o],u=!0,c=0;c<i.length&&!s;c++)s=r[i[c]+"Request"+o],a=r[i[c]+"Cancel"+o]||r[i[c]+"CancelRequest"+o];if(!s||!a){u=!1;var p=0,h=0,f=[],l=1e3/60;s=function(t){if(0===f.length){var e=n(),r=Math.max(0,l-(e-p));p=r+e,setTimeout(function(){var t=f.slice(0);f.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(p)}catch(n){setTimeout(function(){throw n},0)}},Math.round(r))}return f.push({handle:++h,callback:t,cancelled:!1}),h},a=function(t){for(var e=0;e<f.length;e++)f[e].handle===t&&(f[e].cancelled=!0)}}e.exports=function(t){return u?s.call(r,function(){try{t.apply(this,arguments)}catch(e){setTimeout(function(){throw e},0)}}):s.call(r,t)},e.exports.cancel=function(){a.apply(r,arguments)}},{"performance-now":27}],27:[function(t,e){(function(t){(function(){var n,r,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-i)/1e6},r=t.hrtime,n=function(){var t;return t=r(),1e9*t[0]+t[1]},i=n()):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,t("_process"))},{_process:13}],28:[function(t,e){(function(t){e.exports=t.performance&&t.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(t,e,n){function r(t,e,n){2!==arguments.length||"string"!=typeof e&&!Array.isArray(e)||(n=e,e={}),arguments.length>2&&Array.isArray(arguments[2])===!1&&(n=f(arguments,2)),n=n||[],e=e||{},Array.isArray(n)||(n=[n]),n=n.filter(i).reduce(o,[]).map(s).map(a);var r=e.key;delete e.key;var p;return p="function"==typeof t?new u(t,e,r,n):new c(t,e,r,n),p.id=l(),p.index=0,p}function i(t){return null!==t&&void 0!==t}function o(t,e){return Array.isArray(e)?t=t.concat(e):t.push(e),t}function s(t){return"string"==typeof t||"number"==typeof t?new p(String(t)):t}function a(t,e){return t.index=e,t}var u=t("./lib/component"),c=t("./lib/element"),p=t("./lib/text"),h=t("./lib/tree"),f=t("sliced"),l=t("get-uid");n.node=r,n.tree=h},{"./lib/component":30,"./lib/element":31,"./lib/text":32,"./lib/tree":33,"get-uid":20,sliced:35}],30:[function(t,e){function n(t,e,n,r){this.key=n,this.props=e,this.type="component",this.component=t,this.props.children=r||[]}e.exports=n},{}],31:[function(t,e){function n(t,e,n,i){this.type="element",this.attributes=r(e),this.events=a(e),this.tagName=u(t,e),this.children=i||[],this.key=n}function r(t){t.style&&(t.style=i(t.style)),t.data&&(t=o(t)),t["class"]&&(t["class"]=s(t["class"]));for(var e in t)t[e]===!1&&delete t[e];return t}function i(t){if("object"!==c(t))return t;var e="";for(var n in t){var r=t[n];e+=n+":"+r+";"}return e}function o(t){if("object"!==c(t.data))return t;for(var e in t.data)t["data-"+e]=t.data[e];return delete t.data,t}function s(t){if("object"===c(t)){var e=[];for(var n in t)t[n]&&e.push(n);t=e}if("array"===c(t)){if(0===t.length)return;t=t.join(" ")}return t}function a(t){var e={};for(var n in p){var r=p[n],i=t[n];i&&(e[r]=i,delete t[n])}return e}function u(t,e){if(!t)return"div";var n=t.split(/([\.#]?[a-zA-Z0-9_:-]+)/),r="div";return n.filter(Boolean).forEach(function(t){var n=t.charAt(0);"."===n?e["class"]=((e["class"]||"")+" "+t.substring(1,t.length)).trim():"#"===n?e.id=t.substring(1,t.length):r=t}),r}var c=t("component-type");e.exports=n;var p={onBlur:"blur",onChange:"change",onClick:"click",onContextMenu:"contextmenu",onCopy:"copy",onCut:"cut",onDoubleClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragEnter:"dragenter",onDragExit:"dragexit",onDragLeave:"dragleave",onDragOver:"dragover",onDragStart:"dragstart",onDrop:"drop",onFocus:"focus",onInput:"input",onKeyDown:"keydown",onKeyUp:"keyup",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPaste:"paste",onScroll:"scroll",onSubmit:"submit",onTouchCancel:"touchcancel",onTouchEnd:"touchend",onTouchMove:"touchmove",onTouchStart:"touchstart"}},{"component-type":34}],32:[function(t,e){function n(t){this.type="text",this.data=String(t)}e.exports=n},{}],33:[function(t,e){function n(t){this.root=t,this.paths={},this.nodes={},this.components={},this.parse(t)}e.exports=function(t){return new n(t)},n.prototype.getPath=function(t){return this.paths[t.id]},n.prototype.getNode=function(t){return this.nodes[t]},n.prototype.parse=function(t,e){e=e||"0",this.paths[t.id]=e,this.nodes[e]=t,"component"===t.type&&(this.components[e]=t),t.children&&t.children.forEach(function(t,n){this.parse(t,e+"."+(t.key||n))},this)}},{}],34:[function(t,e){var n=Object.prototype.toString;e.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t),typeof t)}},{}],35:[function(t,e,n){e.exports=n=t("./lib/sliced")},{"./lib/sliced":36}],36:[function(t,e){e.exports=function(t,e,n){var r=[],i=t.length;if(0===i)return r;var o=0>e?Math.max(0,e+i):e||0;for(void 0!==n&&(i=0>n?n+i:n);i-->o;)r[i-o]=t[i];return r}},{}]},{},[1])(1)});
